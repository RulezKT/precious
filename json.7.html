<!DOCTYPE html>
<html>
<head>
  <meta http-equiv='content-type' value='text/html;charset=utf8'>
  <meta name='generator' value='Ronn/v0.7.3 (http://github.com/rtomayko/ronn/tree/0.7.3)'>
  <title>precious-json(7) - tells precious what is wanted</title>
  <style type='text/css' media='all'>
  /* style: man */
  body#manpage {margin:0}
  .mp {max-width:100ex;padding:0 9ex 1ex 4ex}
  .mp p,.mp pre,.mp ul,.mp ol,.mp dl {margin:0 0 20px 0}
  .mp h2 {margin:10px 0 0 0}
  .mp > p,.mp > pre,.mp > ul,.mp > ol,.mp > dl {margin-left:8ex}
  .mp h3 {margin:0 0 0 4ex}
  .mp dt {margin:0;clear:left}
  .mp dt.flush {float:left;width:8ex}
  .mp dd {margin:0 0 0 9ex}
  .mp h1,.mp h2,.mp h3,.mp h4 {clear:left}
  .mp pre {margin-bottom:20px}
  .mp pre+h2,.mp pre+h3 {margin-top:22px}
  .mp h2+pre,.mp h3+pre {margin-top:5px}
  .mp img {display:block;margin:auto}
  .mp h1.man-title {display:none}
  .mp,.mp code,.mp pre,.mp tt,.mp kbd,.mp samp,.mp h3,.mp h4 {font-family:monospace;font-size:14px;line-height:1.42857142857143}
  .mp h2 {font-size:16px;line-height:1.25}
  .mp h1 {font-size:20px;line-height:2}
  .mp {text-align:justify;background:#fff}
  .mp,.mp code,.mp pre,.mp pre code,.mp tt,.mp kbd,.mp samp {color:#131211}
  .mp h1,.mp h2,.mp h3,.mp h4 {color:#030201}
  .mp u {text-decoration:underline}
  .mp code,.mp strong,.mp b {font-weight:bold;color:#131211}
  .mp em,.mp var {font-style:italic;color:#232221;text-decoration:none}
  .mp a,.mp a:link,.mp a:hover,.mp a code,.mp a pre,.mp a tt,.mp a kbd,.mp a samp {color:#0000ff}
  .mp b.man-ref {font-weight:normal;color:#434241}
  .mp pre {padding:0 4ex}
  .mp pre code {font-weight:normal;color:#434241}
  .mp h2+pre,h3+pre {padding-left:0}
  ol.man-decor,ol.man-decor li {margin:3px 0 10px 0;padding:0;float:left;width:33%;list-style-type:none;text-transform:uppercase;color:#999;letter-spacing:1px}
  ol.man-decor {width:100%}
  ol.man-decor li.tl {text-align:left}
  ol.man-decor li.tc {text-align:center;letter-spacing:4px}
  ol.man-decor li.tr {text-align:right;float:right}
  </style>
  <style type='text/css' media='all'>
  /* style: toc */
  .man-navigation {display:block !important;position:fixed;top:0;left:113ex;height:100%;width:100%;padding:48px 0 0 0;border-left:1px solid #dbdbdb;background:#eee}
  .man-navigation a,.man-navigation a:hover,.man-navigation a:link,.man-navigation a:visited {display:block;margin:0;padding:5px 2px 5px 30px;color:#999;text-decoration:none}
  .man-navigation a:hover {color:#111;text-decoration:underline}
  </style>
</head>
<!--
  The following styles are deprecated and will be removed at some point:
  div#man, div#man ol.man, div#man ol.head, div#man ol.man.

  The .man-page, .man-decor, .man-head, .man-foot, .man-title, and
  .man-navigation should be used instead.
-->
<body id='manpage'>
  <div class='mp' id='man'>

  <div class='man-navigation' style='display:none'>
    <a href="#NAME">NAME</a>
    <a href="#WHAT">WHAT</a>
    <a href="#-IN-">{IN}</a>
    <a href="#-OUT-">{OUT}</a>
    <a href="#ALSO">ALSO</a>
    <a href="#HOME">HOME</a>
  </div>

  <ol class='man-decor man-head man head'>
    <li class='tl'>precious-json(7)</li>
    <li class='tc'></li>
    <li class='tr'>precious-json(7)</li>
  </ol>

  <h2 id="NAME">NAME</h2>
<p class="man-name">
  <code>precious-json</code> - <span class="man-whatis">tells precious what is wanted</span>
</p>

<h2 id="WHAT">WHAT</h2>

<p>Data format / expectations about what goes in and out of <code>precious</code>.</p>

<h3 id="e-g-">e.g.</h3>

<p>A precious sample of valid json input / request:</p>

<pre><code>{ "utc": "1974-06-30T21:45:00.000Z"
, "stuff": [[0], [0, 1], null]
}
</code></pre>

<p>This query is about where on the ecliptic (0) the Sun (0) and Moon (1) would
be found, given a moment of time.  And here is
The corresponding sample of precious output / response:</p>

<pre><code>{"1": {"0": {"0": 98.70827783123845}, "1": {"0": 238.13984880619816}}}
</code></pre>

<h2 id="-IN-">{IN}</h2>

<p>Specification of the request / instructions (or else defaults) - the <code>precious</code>
can take.</p>

<h4 id="data-">data:</h4>

<p>A relative or absolute path to the Swiss Ephemeris data files.</p>

<h4 id="out-">out:</h4>

<p>We get "json" by default anyway (same as null).
A bit more human-readable output is "pprint".
Even better is Eden's command line interface.</p>

<h4 id="stuff-">stuff:</h4>

<p>The kind of stuff to be returned, or null, or empty array(s) [] - mean all the same default equivalent.  The first array <code>[0, 3]</code> respectively yields ecliptic position and speed for each item of interest.  These map directly to results of the <code>swe.calc_ut</code> function.  The second array contains the main kind of things - returned with key of '1'.  The third array contains the minor kind of things - offset by 10,000 and returned with key of '2'.</p>

<h4 id="utc-">utc:</h4>

<p>Undefined (or null) <em>utc</em> time - means the current moment will be used.  Otherwise provide a string in <a class="man-ref" href="http://en.wikipedia.org/wiki/ISO_8601">ISO-8601<span class="s">(7)</span></a> format (which must end with a Z).  Seconds are optional, plus even more optional precision after a decimal.  The default is 3 digit precision, i.e. milliseconds.</p>

<h4 id="ut-">ut:</h4>

<p>Besides the <em>utc</em> semi-convenience, this <em>ut</em> array of time fragments will be passed on directly to the <code>swe.utc_to_jd</code> function (as its arguments).  It takes precedence over any <em>utc</em> value that it is otherwise derived from.  Such option exists in case an intermediate conversion is not wanted.</p>

<h4 id="geo-">geo:</h4>

<p>Given <em>geo</em> location with its <em>lat</em> / <em>lon</em> coordinates such as <code>"geo": { "lat": 43.2166667, "lon": 27.9166667 }</code> means there can and will be angles (e.g. Asc / Mc) keyed as '3'.  These come from the <code>swe.houses</code> function, however there may or may not be house cusps in the final results output - read about the next option.</p>

<h4 id="houses-">houses:</h4>

<p>A value of false for the <em>houses</em> means we are not interested in any cusps, rendering any house system irrelevant (for the particular request).  None will be returned, even if the prerequisite geo coordinates are provided.  Check the swiss ephemeris manual for a list of valid house system codes.  Anyway, the 12 cusps array would be keyed as '4'.</p>

<h4 id="extra-">extra:</h4>

<p>An object of various predefined <code>what</code> (0 or more) hashed things -
e.g. <code>"extra": {"&lt;what>": {&lt;with-optional-config>}}</code>.
So, this asks for extra info - to be keyed as <code>"0"</code> in the response,
directly corresponding to any of the following <code>what</code>(s), with possible
config settings:</p>

<p><code>"re"</code>: preserves a copy of the json input, i.e. the request <code>{object}</code></p>

<ul>
<li><code>"except"</code>: an array of keys to be deleted, e.g. <code>{"except": ["data"]}</code>
would exclude the usually system-specific ephemeris data path</li>
</ul>


<p><code>"time"</code>: (to be implemented) time stamps / performance metrics,
e.g. includes <code>[&lt;start-time>, &lt;end-time>]</code></p>

<h2 id="-OUT-">{OUT}</h2>

<p>A hash of (string-numbered) things, the <code>precious</code> yields.</p>

<h3 id="0-Object-">0: <code>{&lt;Object>}</code></h3>

<p>what corresponds to the <code>extra</code>(s), for post-processing</p>

<h3 id="1-Object-">1: <code>{&lt;Object>}</code></h3>

<p>major stuff from <code>swe.calc_ut</code> below the 10K items</p>

<h3 id="2-Object-">2: <code>{&lt;Object>}</code></h3>

<p>minor stuff from <code>swe.calc_ut</code> above the 10K items</p>

<h3 id="3-Array-">3: <code>[&lt;Array>]</code></h3>

<p>the angles, also depend on geo-location</p>

<h3 id="4-Array-">4: <code>[&lt;Array>]</code></h3>

<p>the houses, since being handed anyway -- otherwise mostly irrelevant</p>

<h2 id="ALSO">ALSO</h2>

<p><a class="man-ref" href="precious.1.html">precious<span class="s">(1)</span></a>, <a class="man-ref" href="http://www.json.org/">JSON<span class="s">(7)</span></a>, <a class="man-ref" href="http://en.wikipedia.org/wiki/ISO_8601">ISO-8601<span class="s">(7)</span></a></p>

<h2 id="HOME">HOME</h2>

<p><a class="man-ref" href="http://astrolet.github.com/precious">Index<span class="s">(7)</span></a>, <a class="man-ref" href="http://astrolin.com/to/precious">Base<span class="s">(7)</span></a></p>


  <ol class='man-decor man-foot man foot'>
    <li class='tl'></li>
    <li class='tc'>September 2012</li>
    <li class='tr'>precious-json(7)</li>
  </ol>

  </div>
</body>
</html>
